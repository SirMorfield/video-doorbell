# Notes

## Who does what
### Touchscreen computer
Contains:
- The `C++17` application
	- That initiates calls
- The `DHCP` server
	- Manages IPs of: itself, the `Indoor Stations`, and all the cameras
- The `SIP` server
	- Allows the VOIP calls to happen
- `occupants.conf`
	- A configuration file that contains the names of the people and their phone numbers
- `./config-generator/generator.ts`
	- A script uses `occupants.conf` to generate configuration files for the `Indoor Stations`

It also contains this repository.
IP: `192.168.2.18`
`number`: (defined in `app/occupants.conf`)
```
username: root
password: root
```

### All Cameras
Only Firefox will work when accessing the web interface.

Runs: 
- Its own firmware
	- Automatically picks up up when you call it
	- Only the `Front door camera` runs electronic lock to open the door
```
username: root
password: root
```

### `Indoor Stations` Fanvill i53W
Only Firefox will work when accessing the web interface.

Runs:
- Its own firmware
	- Can call any camera or other Indoor Station
`number`: defined in app/occupants.conf, generated by indoor-station-config-generator/generator.js
```
username: admin
password: admin
```

## Reminders
Remove DHCP bindings from test network
For the automatic doorbell: Fanvil -> Settings -> action


## Thoughts
- Save this repo to a USB stick with all the documentation on it.

## Links
https://github.com/mailrocketsystems/AsteriskVOIP
https://github.com/antonraharja/book-asterisk-101/blob/master/book-contents/en/Chapter_04/Ring-Groups.md
https://wiki.linphone.org/xwiki/wiki/public/view/Linphone/Linphone%20and%20Raspberry%20Pi/

## Abbreviations
SIP (Session Initiation Protocol)
	- A signaling protocol used for initiating, maintaining, and terminating communication sessions that include voice, video and messaging applications.

UDP (User Datagram Protocol)
TCP (Transmission Control Protocol)
SCTP (Stream Control Transmission Protocol)
	- The transport layer protocols

TLS (Transport Layer Security)
	- Secure SIP messages

RTP (Real-time Transport Protocol) SRTP (Secure Real-time Transport Protocol)
	- Transports the media (audio/video) streams

unicast multicast
	- SIP can be used to establish two-party (unicast) or multiparty (multicast) sessions.

SDP (Session Description Protocol)
	- Describes the media streams in a SIP session

SIP URI
	- has the form sip:username@domainname or sip:username@hostport, where domainname requires DNS SRV records to locate the servers for SIP domain while hostport can be an IP address or a fully qualified domain name of the host and port.
SIP ports
	- SIP clients typically use TCP or UDP on port numbers 5060 or 5061(secure) for SIP traffic to servers and other endpoints

Each **user agent (UA)** performs the function of a **user agent client (UAC)** when it is requesting a service function, and that of a **user agent server (UAS)**

A SIP phone is an IP phone that implements client and server functions of a SIP user agent and provides the traditional call functions of a telephone, such as dial, answer, reject, call hold, and call transfer.

Registrar
- A registrar is a SIP endpoint that provides a location service. It accepts REGISTER requests, recording the address and other parameters from the user agent. For subsequent requests, it provides an essential means to locate possible communication peers on the network. The location service links one or more IP addresses to the SIP URI of the registering agent. Multiple user agents may register for the same URI, with the result that all registered user agents receive the calls to the URI.

ICE (Interactive Connectivity Establishment)
a technique used in computer networking to find ways for two computers to talk to each other as directly as possible in peer-to-peer networking. This is most commonly used for interactive media such as Voice over Internet Protocol (VoIP), peer-to-peer communications, video, and instant messaging.
